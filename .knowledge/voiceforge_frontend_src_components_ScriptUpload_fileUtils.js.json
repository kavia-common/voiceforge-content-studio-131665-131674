{"is_source_file": true, "format": "JavaScript", "description": "Utility functions for file processing and validation within the ScriptUpload component, including supported file types, validation, and text preprocessing.", "external_files": [], "external_methods": [], "published": ["FILE_TYPES", "getSupportedMimeTypes", "validateFile", "formatFileSize", "getFileTypeInfo", "estimateReadingTime", "prepareTextForAudio", "extractVoiceControls"], "classes": [], "methods": [{"name": "getSupportedMimeTypes", "description": "Returns a mapping of supported MIME types to file extensions for all supported file types."}, {"name": "validateFile", "description": "Validates a given file object against size constraints and supported file types, returning validation status and errors."}, {"name": "formatFileSize", "description": "Converts a byte size into a human-readable string with appropriate units."}, {"name": "getFileTypeInfo", "description": "Identifies the file type information based on the file's name and MIME type."}, {"name": "estimateReadingTime", "description": "Estimates reading time based on the number of words in a text."}, {"name": "prepareTextForAudio", "description": "Prepares and sanitizes text for audio generation by removing extra whitespace and special characters."}, {"name": "extractVoiceControls", "description": "Extracts voice control tags embedded within text for further processing."}], "calls": ["Object.values(FILE_TYPES)", "Object.values(FILE_TYPES).map", "Object.values(FILE_TYPES).some", "Object.entries(FILE_TYPES)", "file.size", "file.name", "file.type"], "search-terms": ["fileUtils", "file validation", "supported file types", "text preprocessing", "voice control tags", "file type info", "reading time estimation"], "state": 2, "file_id": 29, "knowledge_revision": 65, "git_revision": "", "ctags": [{"_type": "tag", "name": "DOC", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  DOC: {$/", "language": "JavaScript", "kind": "class", "scope": "FILE_TYPES", "scopeKind": "class"}, {"_type": "tag", "name": "DOCX", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  DOCX: {$/", "language": "JavaScript", "kind": "class", "scope": "FILE_TYPES", "scopeKind": "class"}, {"_type": "tag", "name": "FILE_TYPES", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^export const FILE_TYPES = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "PDF", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  PDF: {$/", "language": "JavaScript", "kind": "class", "scope": "FILE_TYPES", "scopeKind": "class"}, {"_type": "tag", "name": "TEXT", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  TEXT: {$/", "language": "JavaScript", "kind": "class", "scope": "FILE_TYPES", "scopeKind": "class"}, {"_type": "tag", "name": "controls", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  const controls = [];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    description: 'Microsoft Word documents (legacy format)'$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.DOC", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    description: 'Microsoft Word documents (newer format)'$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.DOCX", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    description: 'PDF documents'$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.PDF", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    description: 'Plain text files'$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.TEXT", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  const errors = [];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "estimateReadingTime", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^export const estimateReadingTime = (text) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "extensions", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    extensions: ['.doc'],$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.DOC", "scopeKind": "class"}, {"_type": "tag", "name": "extensions", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    extensions: ['.docx'],$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.DOCX", "scopeKind": "class"}, {"_type": "tag", "name": "extensions", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    extensions: ['.pdf'],$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.PDF", "scopeKind": "class"}, {"_type": "tag", "name": "extensions", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    extensions: ['.txt'],$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.TEXT", "scopeKind": "class"}, {"_type": "tag", "name": "extractVoiceControls", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^export const extractVoiceControls = (text) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fileName", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  const fileName = file.name.toLowerCase();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "formatFileSize", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^export const formatFileSize = (bytes) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getFileTypeInfo", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^export const getFileTypeInfo = (file) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getSupportedMimeTypes", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^export const getSupportedMimeTypes = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "i", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  const i = Math.floor(Math.log(bytes) \\/ Math.log(k));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "k", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  const k = 1024;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "match", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  let match;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "maxSize", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    maxSize: 10 * 1024 * 1024, \\/\\/ 10MB$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.TEXT", "scopeKind": "class"}, {"_type": "tag", "name": "maxSize", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    maxSize: 15 * 1024 * 1024, \\/\\/ 15MB$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.DOC", "scopeKind": "class"}, {"_type": "tag", "name": "maxSize", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    maxSize: 15 * 1024 * 1024, \\/\\/ 15MB$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.DOCX", "scopeKind": "class"}, {"_type": "tag", "name": "maxSize", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    maxSize: 20 * 1024 * 1024, \\/\\/ 20MB$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.PDF", "scopeKind": "class"}, {"_type": "tag", "name": "maxSize", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  const maxSize = Math.max(...Object.values(FILE_TYPES).map(type => type.maxSize));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "mimeTypes", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    mimeTypes: [$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.DOCX", "scopeKind": "class"}, {"_type": "tag", "name": "mimeTypes", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    mimeTypes: ['application\\/msword'],$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.DOC", "scopeKind": "class"}, {"_type": "tag", "name": "mimeTypes", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    mimeTypes: ['application\\/pdf'],$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.PDF", "scopeKind": "class"}, {"_type": "tag", "name": "mimeTypes", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^    mimeTypes: ['text\\/plain'],$/", "language": "JavaScript", "kind": "property", "scope": "FILE_TYPES.TEXT", "scopeKind": "class"}, {"_type": "tag", "name": "minutes", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  const minutes = Math.ceil(words \\/ wordsPerMinute);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "prepareTextForAudio", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^export const prepareTextForAudio = (text) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "sizes", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  const sizes = ['Bytes', 'KB', 'MB', 'GB'];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "tagRegex", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  const tagRegex = \\/\\\\[(PAUSE|EMPHASIS|SPEED:[\\\\w]+|VOLUME:[\\\\w]+|PITCH:[\\\\w]+)\\\\]\\/g;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validateFile", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^export const validateFile = (file) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "words", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  const words = text.trim().split(\\/\\\\s+\\/).filter(word => word.length > 0).length;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "wordsPerMinute", "path": "/home/kavia/workspace/code-generation/voiceforge-content-studio-131665-131674/voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "pattern": "/^  const wordsPerMinute = 150; \\/\\/ Average speaking rate$/", "language": "JavaScript", "kind": "constant"}], "hash": "bed22ef8889a43ff2a3ebd05e9a531d8", "format-version": 4, "code-base-name": "voiceforge_frontend", "filename": "voiceforge_frontend/src/components/ScriptUpload/fileUtils.js", "fields": [{"name": "description: 'Microsoft Word documents (legacy format)'", "scope": "FILE_TYPES.DOC", "scopeKind": "class", "description": "unavailable"}, {"name": "description: 'Microsoft Word documents (newer format)'", "scope": "FILE_TYPES.DOCX", "scopeKind": "class", "description": "unavailable"}, {"name": "description: 'PDF documents'", "scope": "FILE_TYPES.PDF", "scopeKind": "class", "description": "unavailable"}, {"name": "description: 'Plain text files'", "scope": "FILE_TYPES.TEXT", "scopeKind": "class", "description": "unavailable"}, {"name": "extensions: ['.doc'],", "scope": "FILE_TYPES.DOC", "scopeKind": "class", "description": "unavailable"}, {"name": "extensions: ['.docx'],", "scope": "FILE_TYPES.DOCX", "scopeKind": "class", "description": "unavailable"}, {"name": "extensions: ['.pdf'],", "scope": "FILE_TYPES.PDF", "scopeKind": "class", "description": "unavailable"}, {"name": "extensions: ['.txt'],", "scope": "FILE_TYPES.TEXT", "scopeKind": "class", "description": "unavailable"}, {"name": "let match;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "maxSize: 10 * 1024 * 1024, \\/\\/ 10MB", "scope": "FILE_TYPES.TEXT", "scopeKind": "class", "description": "unavailable"}, {"name": "maxSize: 15 * 1024 * 1024, \\/\\/ 15MB", "scope": "FILE_TYPES.DOC", "scopeKind": "class", "description": "unavailable"}, {"name": "maxSize: 20 * 1024 * 1024, \\/\\/ 20MB", "scope": "FILE_TYPES.PDF", "scopeKind": "class", "description": "unavailable"}, {"name": "mimeTypes: [", "scope": "FILE_TYPES.DOCX", "scopeKind": "class", "description": "unavailable"}, {"name": "mimeTypes: ['application\\/msword'],", "scope": "FILE_TYPES.DOC", "scopeKind": "class", "description": "unavailable"}, {"name": "mimeTypes: ['application\\/pdf'],", "scope": "FILE_TYPES.PDF", "scopeKind": "class", "description": "unavailable"}, {"name": "mimeTypes: ['text\\/plain'],", "scope": "FILE_TYPES.TEXT", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"65": ""}]}